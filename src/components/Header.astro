<header
    class="flex flex-wrap items-center justify-between px-[4%] mx-auto py-2 sticky top-0 z-10 bg-white border-b-2"
>
    <a
        href="https://alvgonzx.site"
        class="text-2xl font-semibold flex items-center">alvgonzx</a
    >
    <input type="checkbox" id="menu-toggle" class="hidden" />
    <label for="menu-toggle" class="text-2xl cursor-pointer md:hidden"
        >&#9776;</label
    >
    <nav
        class="flex flex-col md:flex-row gap-8 items-center w-full md:w-auto"
        id="menu"
    >
        <a href="#about-me">About me</a>
        <a href="#projects">Projects</a>
        <!--<a href="#blog">Blog</a>-->
    </nav>
</header>

<script>
    export const initMenu = () => {
        const header = document.querySelector("header");
        const menuToggle = document.getElementById("menu-toggle");
        const menu = document.getElementById("menu");

        if (window.innerWidth < 768) {
            menu.classList.add("hidden");
        } else {
            menu.classList.add("flex");
            menu.classList.remove("hidden");
        }

        menuToggle.addEventListener("change", () => {
            // @ts-ignore
            if (menuToggle.checked) {
                menu.classList.add("flex");
                menu.classList.remove("hidden");
            } else {
                menu.classList.remove("flex");
                menu.classList.add("hidden");
            }
        });

        window.addEventListener("resize", () => {
            if (window.innerWidth < 768) {
                menu.classList.add("hidden");
            } else {
                menu.classList.add("flex");
                menu.classList.remove("hidden");
            }
        });

        document.addEventListener("scroll", () => {
            header.classList.add("border-b-2");

            const vscroll = document.documentElement.scrollTop;
            console.log(vscroll);
            if (vscroll == 0) {
                header.classList.remove("border-b-2");
            }
        });
    };

    document.querySelector("header").classList.remove("border-b-2");
    initMenu();
</script>
